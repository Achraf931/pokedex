{"version":3,"file":"js/841.00522a20.js","mappings":"qnDAoDA,MAAMA,GAAWC,EAAAA,EAAAA,IAAI,IACfC,GAASD,EAAAA,EAAAA,IAAI,GACbE,GAAUF,EAAAA,EAAAA,IAAI,MACdG,GAAUH,EAAAA,EAAAA,IAAI,MACdI,GAAWJ,EAAAA,EAAAA,IAAI,IACfK,GAAcL,EAAAA,EAAAA,IAAI,IAClBM,GAAON,EAAAA,EAAAA,IAAI,IAEXO,EAASC,OAASC,GAAAA,EAAIC,OAAAA,EAAS,QACnCX,EAASY,aAAeC,EAAAA,EAAAA,IAAOH,EAAIC,IAASG,KAC5Cd,EAASY,MAAMG,kBAAoBC,EAAAA,EAAAA,GAAehB,EAASY,MAAMK,mBAAmBF,YAGhFG,EAAcT,MAAAA,IAClBT,EAASY,MAAQO,GAGbC,EAAWX,MAAAA,UACTY,EAAAA,EAAAA,IAAO,CAAEC,eAAgBC,EAAAA,EAAAA,OAAMb,GAAIR,OAAQA,EAAOU,OAASY,EAAIC,KAAMnB,EAAYM,QAASc,MAAKC,IACnGA,EAAeC,QAAQC,OAAMpB,MAAAA,IAC3BqB,EAAKf,kBAAoBC,EAAAA,EAAAA,GAAec,EAAKb,mBAAmBF,cAElEV,EAASO,MAAQe,KAGftB,EAASO,MAAMmB,MAAQ,IACzB3B,EAAQQ,MAAQP,EAASO,MAAMoB,SAC/B7B,EAAQS,MAAQP,EAASO,MAAMqB,KAC/BjC,EAASY,MAAQP,EAASO,MAAMgB,QAAQ,GACxC5B,EAASY,MAAMG,kBAAoBC,EAAAA,EAAAA,GAAeX,EAASO,MAAMgB,QAAQ,GAAGX,mBAAmBF,a,OAInGmB,EAAAA,EAAAA,KAAUzB,UACRW,EAAS,M,6vECnFX,MAAMe,EAAc,EAEpB","sources":["webpack://pokedex/./src/views/PokemonView.vue","webpack://pokedex/./src/views/PokemonView.vue?38d9"],"sourcesContent":["<template>\n  <div class=\"flex-1 flex lg:flex-col justify-between items-center overflow-hidden\">\n    <div class=\"sm:py-0 lg:w-full w-7/12 flex flex-col overflow-hidden xl:p-5 p-10 lg:h-1/2 h-full\">\n      <input class=\"xs:text-xs mb-5 w-full outline-none bg-white text-black border-2 border-solid border-black rounded-md px-5 py-2\" type=\"text\" placeholder=\"search\" @input=\"paginate(0)\" v-model=\"searchInput\">\n      <section class=\"snap-y grid grid-cols-3 sm:grid-cols-2 xs:grid-cols-1 auto-rows-min flex-1 overflow-y-scroll overflow-x-hidden w-full gap-3\">\n        <Pokemon :class=\"{'opacity-50': selected === pokemon}\" @click=\"openDetails(pokemon)\" v-for=\"pokemon in pokemons.results\" :key=\"pokemon.id\" :pokemon=\"pokemon\" :nickname=\"pokemon.nickname\" :ref_number=\"pokemon.ref_number\" />\n      </section>\n      <div class=\"flex items-center justify-between mt-5 w-full\">\n        <button class=\"xs:text-xs button\" v-if=\"hasPrev !== null\" type=\"button\" @click=\"paginate(-50)\">prev</button>\n        <button class=\"xs:text-xs ml-auto button\" v-if=\"hasNext !== null\" type=\"button\" @click=\"paginate(50)\">next</button>\n      </div>\n    </div>\n\n    <div v-if=\"selected\" class=\"text-white xl:p-5 p-10 lg:w-full lg:h-1/2 w-2/5 h-full flex flex-col justify-around\">\n      <div class=\"md:overflow-y-scroll sm:p-5 bg-red-400 lg:gap-5 flex md:flex-col lg:flex-row lg:items-start flex-col justify-between h-full rounded-md border-2 border-solid border-black p-10\">\n        <div class=\"lg:w-1/2 md:w-full\">\n          <div class=\"flex items-start justify-between\">\n            <p class=\"text-2xl\">#{{ selected.pokedex_creature }}</p>\n            <p class=\"text-xs text-right\">{{ selected.legendary ? '' : 'Not ' }}Legendary</p>\n          </div>\n          <img v-if=\"selected.ref_number\" height=\"200\" width=\"200\" class=\"mx-auto\" :src=\"`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${selected.ref_number}.png`\" :alt=\"selected.name\">\n        </div>\n        <article class=\"border-2 border-solid border-white md:w-full lg:w-1/2 p-5 lg:h-full\">\n          <h1 class=\"xs:text-xs font-bold text-center text-xl\">{{ selected.nickname?? selected.name }}</h1>\n          <div class=\"text-white grid grid-cols-2 divide-x-2 divide-white border-t-2 border-b-2 border-solid border-white items-center py-2 mt-5\">\n            <div class=\"h-full flex flex-col justify-between\">\n              <p class=\"text-[10px]\">Level</p>\n              <p class=\"xs:text-xs w-full text-center mx-auto font-bold\">{{ selected.level }}</p>\n            </div>\n            <div class=\"h-full flex flex-col justify-between\">\n              <p class=\"text-[10px] text-right\">XP</p>\n              <p class=\"xs:text-xs w-full text-center mx-auto font-bold\">{{ selected.experience }}</p>\n            </div>\n          </div>\n\n          <template v-if=\"user.id !== null\">\n            <button type=\"button\" class=\"sm:text-sm xs:text-xs text-white button cursor-pointer w-full border-2 border-solid border-black mt-5 px-4 py-1 bg-custom hover:opacity-75\" @click.prevent=\"giveXp({ id: selected.id })\">Give XP</button>\n            <button type=\"button\" class=\"sm:text-sm xs:text-xs text-white button cursor-pointer w-full border-2 border-solid border-black mt-1 px-4 py-1 !bg-red-600 hover:opacity-75\" @click.prevent=\"remove({ id: selected.id })\">Delete</button>\n          </template>\n        </article>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport Pokemon from '@/components/Pokemon'\nimport { onMounted, ref } from 'vue'\nimport { pokemons as action, giveXP, remove } from '@/repositories/pokemon'\nimport { getPokemon as getFromPokedex } from '@/repositories/pokedex'\nimport { me } from '@/repositories/auth'\n\nconst selected = ref({})\nconst offset = ref(0)\nconst hasNext = ref(null)\nconst hasPrev = ref(null)\nconst pokemons = ref([])\nconst searchInput = ref('')\nconst user = ref({})\n\nconst giveXp = async ({ id, amount = 100 }) => {\n  selected.value = (await giveXP(id, amount)).data\n  selected.value.ref_number = (await getFromPokedex(selected.value.pokedex_creature)).ref_number\n}\n\nconst openDetails = async pokemon => {\n  selected.value = pokemon\n}\n\nconst paginate = async nb => {\n  await action({ trainer: (await me()).id, offset: offset.value += nb, name: searchInput.value }).then(pokemonsResult => {\n    pokemonsResult.results.every(async item => {\n      item.ref_number = (await getFromPokedex(item.pokedex_creature)).ref_number\n    })\n    pokemons.value = pokemonsResult\n  })\n\n  if (pokemons.value.count > 0) {\n    hasPrev.value = pokemons.value.previous\n    hasNext.value = pokemons.value.next\n    selected.value = pokemons.value.results[0]\n    selected.value.ref_number = (await getFromPokedex(pokemons.value.results[0].pokedex_creature)).ref_number\n  }\n}\n\nonMounted(async () => {\n  paginate(0)\n})\n</script>\n","import script from \"./PokemonView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PokemonView.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["selected","ref","offset","hasNext","hasPrev","pokemons","searchInput","user","giveXp","async","id","amount","value","giveXP","data","ref_number","getFromPokedex","pokedex_creature","openDetails","pokemon","paginate","action","trainer","me","nb","name","then","pokemonsResult","results","every","item","count","previous","next","onMounted","__exports__"],"sourceRoot":""}